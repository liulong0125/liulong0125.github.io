---
layout: post
title: 编辑器(Editor) API
categories: [kindEditor]
tags: [kindEditor]
---

# [编辑器(Editor) API](http://kindeditor.net/docs/editor.html#id1)

Contents

-   编辑器(Editor) API
    -   [K.create(expr [, options\])](http://kindeditor.net/docs/editor.html#k-create-expr-options)
    -   [K.remove(expr)](http://kindeditor.net/docs/editor.html#k-remove-expr)
    -   [K.sync(expr)](http://kindeditor.net/docs/editor.html#k-sync-expr)
    -   [K.html(expr, val)](http://kindeditor.net/docs/editor.html#k-html-expr-val)
    -   [K.appendHtml(expr, val)](http://kindeditor.net/docs/editor.html#k-appendhtml-expr-val)
    -   [K.insertHtml(expr, val)](http://kindeditor.net/docs/editor.html#k-inserthtml-expr-val)
    -   [remove()](http://kindeditor.net/docs/editor.html#remove)
    -   [html()](http://kindeditor.net/docs/editor.html#html)
    -   [html(val)](http://kindeditor.net/docs/editor.html#html-val)
    -   [fullHtml()](http://kindeditor.net/docs/editor.html#fullhtml)
    -   [text()](http://kindeditor.net/docs/editor.html#text)
    -   [text(val)](http://kindeditor.net/docs/editor.html#text-val)
    -   [selectedHtml()](http://kindeditor.net/docs/editor.html#selectedhtml)
    -   [count([mode\])](http://kindeditor.net/docs/editor.html#count-mode)
    -   [isEmpty()](http://kindeditor.net/docs/editor.html#isempty)
    -   [insertHtml(val)](http://kindeditor.net/docs/editor.html#inserthtml-val)
    -   [appendHtml(val)](http://kindeditor.net/docs/editor.html#appendhtml-val)
    -   [focus()](http://kindeditor.net/docs/editor.html#focus)
    -   [blur()](http://kindeditor.net/docs/editor.html#blur)
    -   [sync()](http://kindeditor.net/docs/editor.html#sync)
    -   [exec(commandName)](http://kindeditor.net/docs/editor.html#exec-commandname)
    -   [lang(name)](http://kindeditor.net/docs/editor.html#lang-name)
    -   [loadPlugin(name , fn)](http://kindeditor.net/docs/editor.html#loadplugin-name-fn)
    -   [clickToolbar(name)](http://kindeditor.net/docs/editor.html#clicktoolbar-name)
    -   [clickToolbar(name [, fn\])](http://kindeditor.net/docs/editor.html#clicktoolbar-name-fn)
    -   [addBookmark()](http://kindeditor.net/docs/editor.html#addbookmark)
    -   [undo()](http://kindeditor.net/docs/editor.html#undo)
    -   [redo()](http://kindeditor.net/docs/editor.html#redo)
    -   [fullscreen([bool\])](http://kindeditor.net/docs/editor.html#fullscreen-bool)
    -   [readonly(isReadonly)](http://kindeditor.net/docs/editor.html#readonly-isreadonly)
    -   [createMenu(options)](http://kindeditor.net/docs/editor.html#createmenu-options)
    -   [hideMenu()](http://kindeditor.net/docs/editor.html#hidemenu)
    -   [addContextmenu(item)](http://kindeditor.net/docs/editor.html#addcontextmenu-item)
    -   [hideContextmenu()](http://kindeditor.net/docs/editor.html#hidecontextmenu)
    -   [createDialog(options)](http://kindeditor.net/docs/editor.html#createdialog-options)
    -   [hideDialog()](http://kindeditor.net/docs/editor.html#hidedialog)



## [K.create(expr [, options\])](http://kindeditor.net/docs/editor.html#id2)

创建编辑器，返回第一个KEditor对象。4.1版本开始expr支持多个textarea，之前版本只在第一个textarea上创建。

创建编辑器后可以用 KindEditor.instances 数组取得已创建的所有KEditor对象。

-   -   参数:

        mixed expr: element或选择器object options: [编辑器初始化参数](http://kindeditor.net/docs/option.html)

-   返回: KEditor

示例:

```
// 1
// editor 等于 KindEditor.instances[0]
editor = K.create('textarea[name="content"]');
editor.html('HTML code');

// 2
editor = K.create('#editor_id', {
        filterMode : true,
        langType : 'en'
});
```

Note

4.1.2版本开始expr可以直接传入jQuery对象。



## [K.remove(expr)](http://kindeditor.net/docs/editor.html#id3)

移除多个编辑器。

-   -   参数:

        mixed expr: element或选择器

-   返回: undefined

示例:

```
// 移除ID为editor_id的编辑器
K.remove('#editor_id');

// 移除class为editor-class的编辑器
K.remove('.editor-class');
```

Note

4.1.2版本开始支持。



## [K.sync(expr)](http://kindeditor.net/docs/editor.html#id4)

将多个编辑器的内容设置到原来的textarea控件里。。

-   -   参数:

        mixed expr: element或选择器

-   返回: undefined

示例:

```
// 同步ID为editor_id的编辑器
K.sync('#editor_id');

// 同步class为editor的编辑器
K.sync('.editor');
```

Note

4.1.2版本开始支持。



## [K.html(expr, val)](http://kindeditor.net/docs/editor.html#id5)

设置多个编辑器的HTML内容。

-   -   参数:

        mixed expr: element或选择器string val: HTML内容

-   返回: undefined

示例:

```
K.html('#editor_id', '<div>HTML</div>');
```

Note

4.1.8版本开始支持。



## [K.appendHtml(expr, val)](http://kindeditor.net/docs/editor.html#id6)

将指定的HTML内容添加到多个编辑器的最后位置。

-   -   参数:

        mixed expr: element或选择器string val: 内容

-   返回: undefined

示例:

```
K.appendHtml('#editor_id', '<div>HTML</div>');
```

Note

4.1.8版本开始支持。



## [K.insertHtml(expr, val)](http://kindeditor.net/docs/editor.html#id7)

将指定的HTML内容插入到多个编辑器的光标处。

-   -   参数:

        mixed expr: element或选择器string val: 内容

-   返回: undefined

示例:

```
K.insertHtml('#editor_id', '<strong>HTML</strong>');
```

Note

4.1.8版本开始支持。



## [remove()](http://kindeditor.net/docs/editor.html#id8)

移除编辑器。

-   参数: 无
-   返回: KEditor

示例:

```
editor.remove();
```



## [html()](http://kindeditor.net/docs/editor.html#id9)

取得编辑器的HTML内容。

-   参数: 无
-   返回: string

示例:

```
var html = editor.html();
```

## [html(val)](http://kindeditor.net/docs/editor.html#id10)

设置编辑器的HTML内容。

-   -   参数:

        string val: HTML

-   返回: KEditor

示例:

```
editor.html('<strong>HTML</strong> code');
```



## [fullHtml()](http://kindeditor.net/docs/editor.html#id11)

取得完整的HTML内容，HTML包含<html>标签。

-   参数: 无
-   返回: string

示例:

```
var fullHtml = editor.fullHtml();
```



## [text()](http://kindeditor.net/docs/editor.html#id12)

取得编辑器的纯文本内容。(包含img和embed)

-   参数: 无
-   返回: string

示例:

```
var text = editor.text();
```

## [text(val)](http://kindeditor.net/docs/editor.html#id13)

设置编辑器的内容，直接显示HTML代码。

-   -   参数:

        string val: 文本

-   返回: KEditor

示例:

```
editor.text('<strong>HTML</strong> code');
```



## [selectedHtml()](http://kindeditor.net/docs/editor.html#id14)

取得当前被选中的HTML内容。

-   参数: 无
-   返回: string

示例:

```
var html = editor.selectedHtml();
```



## [count([mode\])](http://kindeditor.net/docs/editor.html#id15)

取得当前被选中的HTML内容。

-   -   参数:

        string mode: 可选参数，默认值为”html”，mode为”html”时取得字数包含HTML代码，mode为”text”时只包含纯文本、IMG、EMBED。

-   返回: Int

示例:

```
htmlCount = editor.count();
textCount = editor.count('text');
```



## [isEmpty()](http://kindeditor.net/docs/editor.html#id16)

判断编辑器是否有可见内容，比如文本、图片、视频。

-   参数: 无
-   返回: Boolean

示例:

```
if (editor.isEmpty()) {
        alert('请输入内容。');
}
```



## [insertHtml(val)](http://kindeditor.net/docs/editor.html#id17)

将指定的HTML内容插入到编辑区域里的光标处。

-   -   参数:

        string val: HTML

-   返回: KEditor

示例:

```
editor.insertHtml('<strong>HTML</strong> code');
```



## [appendHtml(val)](http://kindeditor.net/docs/editor.html#id18)

将指定的HTML内容添加到编辑区域的最后位置。

-   -   参数:

        string val: HTML

-   返回: KEditor

示例:

```
editor.appendHtml('<strong>HTML</strong> code');
```



## [focus()](http://kindeditor.net/docs/editor.html#id19)

编辑器聚焦。

-   参数: 无
-   返回: KEditor

示例:

```
editor.focus();
```



## [blur()](http://kindeditor.net/docs/editor.html#id20)

编辑器失去焦点。

-   参数: 无
-   返回: KEditor

示例:

```
editor.blur();
```



## [sync()](http://kindeditor.net/docs/editor.html#id21)

将编辑器的内容设置到原来的textarea控件里。

-   参数: 无
-   返回: KEditor

示例:

```
editor.sync();
```



## [exec(commandName)](http://kindeditor.net/docs/editor.html#id22)

执行编辑命令，替代document.execCommmand接口。

-   -   参数:

        string commandName: 命令名

-   返回: KEditor

目前可用的命令:

| commandName         | 描述                   | 示例                                                         |
| :------------------ | :--------------------- | :----------------------------------------------------------- |
| bold                | 粗体                   | editor.exec(‘bold’);                                         |
| italic              | 斜体                   | editor.exec(‘italic’);                                       |
| underline           | 下划线                 | editor.exec(‘underline’);                                    |
| strikethrough       | 删除线                 | editor.exec(‘strikethrough’);                                |
| forecolor           | 文字颜色               | editor.exec(‘forecolor’, ‘#333’);                            |
| hilitecolor         | 文字背景               | editor.exec(‘hilitecolor’, ‘#eee’);                          |
| fontsize            | 文字大小               | editor.exec(‘fontsize’, ‘14px’);                             |
| fontfamily          | 字体                   | editor.exec(‘fontfamily’, ‘SimHei’);                         |
| fontname            | 字体，fontfamily的别名 | editor.exec(‘fontname’, ‘SimHei’);                           |
| removeformat        | 删除inline样式         | editor.exec(‘removeformat’);                                 |
| inserthtml          | 插入HTML               | editor.exec(‘inserthtml’, ‘<strong>HTML</strong>’);          |
| hr                  | 插入水平线             | editor.exec(‘hr’);                                           |
| print               | 弹出打印窗口           | editor.exec(‘print’);                                        |
| insertimage         | 插入图片               | editor.exec(‘insertimage’, ‘1.jpg’, ‘title’, 200, 100, 1, ‘right’); |
| createlink          | 超级链接               | editor.exec(‘createlink’, ‘1.html’, ‘_blank’);               |
| unlink              | 取消超级链接           | editor.exec(‘unlink’);                                       |
| formatblock         | 段落                   | editor.exec(‘formatblock’, ‘<h1>’);                          |
| selectall           | 全选                   | editor.exec(‘selectall’);                                    |
| justifyleft         | 左对齐                 | editor.exec(‘justifyleft’);                                  |
| justifycenter       | 居中                   | editor.exec(‘justifycenter’);                                |
| justifyright        | 右对齐                 | editor.exec(‘justifyright’);                                 |
| justifyfull         | 两端对齐               | editor.exec(‘justifyfull’);                                  |
| insertorderedlist   | 编号                   | editor.exec(‘insertorderedlist’);                            |
| insertunorderedlist | 项目符号               | editor.exec(‘insertunorderedlist’);                          |
| indent              | 增加缩进               | editor.exec(‘indent’);                                       |
| outdent             | 减少缩进               | editor.exec(‘outdent’);                                      |
| subscript           | 下标                   | editor.exec(‘subscript’);                                    |
| superscript         | 上标                   | editor.exec(‘superscript’);                                  |
| cut                 | 剪切                   | editor.exec(‘cut’);                                          |
| copy                | 复制                   | editor.exec(‘copy’);                                         |
| paste               | 粘贴                   | editor.exec(‘paste’);                                        |



## [lang(name)](http://kindeditor.net/docs/editor.html#id23)

取得语言。

-   -   参数:

        string name: language key

-   返回: string

示例:

```
str = editor.lang('table'); // return '表格'
```



## [loadPlugin(name , fn)](http://kindeditor.net/docs/editor.html#id24)

动态加载插件。

-   -   参数:

        string name: 插件名function fn: 加载成功后执行的回调函数

-   返回: KEditor

示例:

```
editor.loadPlugin('table', function() {
        alert('加载成功。');
});
```



## [clickToolbar(name)](http://kindeditor.net/docs/editor.html#id25)

执行绑定在工具栏上的点击事件函数。

-   -   参数:

        string name: item name

-   返回: KEditor

示例:

```
editor.clickToolbar('bold'); // 对选中文本进行加粗
```

## [clickToolbar(name [, fn\])](http://kindeditor.net/docs/editor.html#id26)

绑定工具栏的点击事件函数。

-   -   参数:

        string name: item namefunction fn: 点击工具栏时执行的回调函数。

-   返回: fn的return value

示例:

```
editor.clickToolbar('bold', function() {
        editor.exec('bold');
});
```



## [addBookmark()](http://kindeditor.net/docs/editor.html#id27)

将当前数据添加到undo/redo记录里。

-   参数: 无
-   返回: KEditor

示例:

```
editor.addBookmark();
```



## [undo()](http://kindeditor.net/docs/editor.html#id28)

后退。

-   参数: 无
-   返回: KEditor

示例:

```
editor.undo();
```



## [redo()](http://kindeditor.net/docs/editor.html#id29)

撤销后退。(前进)

-   参数: 无
-   返回: KEditor

示例:

```
editor.redo();
```



## [fullscreen([bool\])](http://kindeditor.net/docs/editor.html#id30)

切换全屏模式。

-   -   参数:

        Boolean bool: 默认切换(toggle)全屏模式，false时取消全屏，true时变成全屏。

-   返回: KEditor

示例:

```
editor.fullscreen();
```



## [readonly(isReadonly)](http://kindeditor.net/docs/editor.html#id31)

设置成只读状态，或取消只读状态。

-   -   参数:

        Boolean isReadonly: false时取消只读状态，true时设置成只读状态。

-   返回: KEditor

示例:

```
editor.readonly(false);
```



## [createMenu(options)](http://kindeditor.net/docs/editor.html#id32)

显示下拉菜单。

-   -   参数:

        object options: 初始化参数

-   返回: KMenu ( [下拉菜单(Menu) API](http://kindeditor.net/docs/menu.html) )

示例:

```
var menu = editor.createMenu({
        name : 'example1',
        width : 150
});
menu.addItem({
        title : '红色',
        click : function() {
                alert('red');
        }
});
menu.addItem({
        title : '白色',
        click : function() {
                alert('white');
        }
});
```



## [hideMenu()](http://kindeditor.net/docs/editor.html#id33)

隐藏下拉菜单。

-   参数: 无
-   返回: KEditor

示例:

```
editor.hideMenu();
```



## [addContextmenu(item)](http://kindeditor.net/docs/editor.html#id34)

添加自定义右键菜单。

-   -   参数:

        object item: 请参考 KMenu.addItem(item)的item参数

-   返回: KEditor

示例:

```
editor.addContextmenu({
        title : 'test',
        click : function() {
                alert('clicked');
        },
        cond : true,
        width : 150,
});
// 插入分割线
editor.addContextmenu({ title : '-' });
```



## [hideContextmenu()](http://kindeditor.net/docs/editor.html#id35)

隐藏自定义右键菜单。

-   参数: 无
-   返回: KEditor

示例:

```
editor.hideContextmenu();
```



## [createDialog(options)](http://kindeditor.net/docs/editor.html#id36)

显示弹出窗口(dialog)。

-   -   参数:

        object options: 初始化参数

-   返回: KDialog ( [弹出窗口(Dialog) API](http://kindeditor.net/docs/dialog.html) )

示例:

```
var dialog = editor.createDialog({
        name : 'about',
        width : 300,
        title : self.lang('about'),
        body : '<div style="margin:20px;">Hello</div>'
});
```



## [hideDialog()](http://kindeditor.net/docs/editor.html#id37)

隐藏弹出窗口(dialog)。

-   参数: 无
-   返回: KMenu

示例:

```
editor.hideDialog();
```