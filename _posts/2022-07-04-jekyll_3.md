---
layout: post
title: jekyll + github 搭建个人静态博客站点（三）
categories: [jekyll]
tags: [jekyll]
---

本章节主要介绍实战开发。

# jekyll + github 搭建个人静态博客站点（三）
+ [1. 导航](#1-导航模块)
+ [2. 首页分页](#2-首页分页)
+ [3. 详情页上下页](#3-_详情页上下页)
+ [4. 搜索](#4-搜索)
+ [5. 分类](#5-分类)
+ [6. 标签](#6-标签)
+ [7. 响应式](#7-响应式)
    + [7.1 首页&详情页](#71-_首页&详情页)
    + [7.2 搜索](#72-_搜索)
    + [7.3 导航](#73-_导航)





## 1. 导航
```
{% raw %}
<div class="gd-navigation">
    {% for i in site.data.urls %}
        {% assign pageurl = page.url | split:'/' | last %}
        {% assign menuurl = i.url | split:'/' | last %}
        {%- comment -%}
            导航栏选中状态判等
                1. 通用判等，判断 pageurl === menuurl
                1. 文章详情页需要选中首页，由于详情页使用的都是 layout: post，通过给首页的导航添加 layout: post 后与 page.layout 判等。
                2. 分页需要选中首页，只需要判断 首页 时是否存在 paginator 变量即可，该变量只在首页可用（分页也属于首页）。
        {%- endcomment -%}
        {% if pageurl == menuurl %}
            {% assign selected = 'selected' %}
        {% elsif page.layout == i.layout %}
            {% assign selected = 'selected' %}
        {% elsif i.text == '首页' and paginator %}
            {% assign selected = 'selected' %}
        {% else %}
            {% assign selected = '' %}
        {% endif %}
        <a class="{{ selected }}" href="{{ i.url }}">
            <i class="{{ i.icon }}"></i>
            <span>{{ i.text }}</span>
        </a>
    {% endfor %}
</div>
{% endraw %}
```
> + 存放数据的文件放到 ``_data`` 目录下，会自动生成为 ``site.data`` 的属性，``e.g.`` 导航模块使用的 ``site.data.urls`` 对应的是 ``_data/urls.json`` 文件。
+ ``page.url`` 帖子的 URL，不带域，但带有前导斜杠，``e.g.`` ``/2008/12/14/my-post.html``。
+   split 过滤器的特别说明：
>   {% raw %}
>   ```html
>   <!-- 分隔符在末尾的时候不会再次分割,分隔符不在末尾的时候会分割 -->
>   <!-- result.size: 1，数组只有一项 ['a'] -->
>   {% assign result = 'a/' | split: '/' %}
>   {{ result.size }}
>   <!-- result.size: 2，数组有两项 ['', 'a'] -->
>   {% assign result = '/a' | split: '/' %}
>   {{ result.size }}
>
>   ```
>   {% endraw %}

## 7. 响应式
### 7.1 首页&详情页
隐藏类目和标签模块。




### 7.2 搜索
弹出遮罩层，有最近搜索和类目、标签合集。